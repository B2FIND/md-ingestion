<record xmlns="http://www.openarchives.org/OAI/2.0/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
  <header>
    <identifier>oai:clarin-pl.eu:11321/528</identifier>
    <datestamp>2018-07-18T07:56:06Z</datestamp>
    <setSpec>hdl_11321_3</setSpec>
    <setSpec>hdl_11321_4</setSpec>
  </header>
  <metadata>
    <oai_dc:dc xmlns:oai_dc="http://www.openarchives.org/OAI/2.0/oai_dc/" xmlns:doc="http://www.lyncode.com/xoai" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:dc="http://purl.org/dc/elements/1.1/" xsi:schemaLocation="http://www.openarchives.org/OAI/2.0/oai_dc/ http://www.openarchives.org/OAI/2.0/oai_dc.xsd">
      <dc:title>Parallel Corpora from Comparable Corpora tool</dc:title>
      <dc:creator>Wo&#322;k, Krzysztof</dc:creator>
      <dc:subject>comparable</dc:subject>
      <dc:subject>parallel</dc:subject>
      <dc:subject>corpora</dc:subject>
      <dc:subject>wikipedia</dc:subject>
      <dc:subject>tool</dc:subject>
      <dc:subject>builder</dc:subject>
      <dc:description>Script consists of 2 parts:&#13;
&#13;
article parser&#13;
aligner&#13;
Required software (install before using script):&#13;
&#13;
yalign&#13;
additional Ubuntu packages:&#13;
mongodb&#13;
ipython&#13;
python-nose&#13;
python-werkzeug&#13;
Wiki article parser&#13;
Article parser works in 2 steps:&#13;
&#13;
Extracts articles from wiki dumps&#13;
Saves extracted articles to local DB (Mongo DB)&#13;
Before using parser, wiki dumps should be downloaded and extracted to some directory (directory should contain *.xml, *.sql files). For each language 2 dump files should be downloaded - articles and language link dumps, here is examples:&#13;
&#13;
PL:&#13;
&#13;
http://dumps.wikimedia.org/plwiki/latest/plwiki-latest-pages-articles.xml.bz2&#13;
http://dumps.wikimedia.org/plwiki/latest/plwiki-latest-langlinks.sql.gz&#13;
EN:&#13;
&#13;
http://dumps.wikimedia.org/enwiki/latest/enwiki-latest-pages-articles.xml.bz2&#13;
http://dumps.wikimedia.org/enwiki/latest/enwiki-latest-langlinks.sql.gz&#13;
IMPORTANT NOTE: Engilsh dumps after extraction will require about 50 Gb of free space. During parsing parser can require up to 8 Gb ram.&#13;
&#13;
Article parser have option "main language" - its language for which articles extracted from other languages only if it exist in main language. Eg. if main language is PL, then article extractor first extracts all article for PL, then article for other languages and only if such articles exists in PL translation. This reduces space requirements.&#13;
&#13;
For help use:&#13;
&#13;
$ python parse_wiki_dumps.py -h&#13;
&#13;
Example command:&#13;
&#13;
$ python parse_wiki_dumps.py -d ~/temp/wikipedia_dump/ -l pl -v&#13;
&#13;
Wikipedia aligner&#13;
Aligner can be used when article extracted from dumps.&#13;
&#13;
Aligner takes article pairs for given language pair, aligns text and saves parallel corpara to 2 files. Option "-s" can be used to limit number of symbols in file (by default size is 50000000 symbols, thats around 50-60Mb)&#13;
&#13;
By default aligner tries to continue aligning where it was stopped, to force aligning from begining need to use "--restart" key&#13;
&#13;
For help use:&#13;
&#13;
$ python align.py -h&#13;
&#13;
Example command:&#13;
&#13;
$ python align.py -o wikipedia -l en-pl -v&#13;
&#13;
Euronews crawler&#13;
Crawler finds links to articles using euronews archive http://euronews.com/2004/, and in parallel extracts and saves article texts to DB.&#13;
&#13;
For help use:&#13;
&#13;
$ python parse_euronews.py -h&#13;
&#13;
Example command:&#13;
&#13;
$ python parse_euronews.py -l en,pl -v&#13;
&#13;
Euronews aligner&#13;
Starting aligner for euronews articles:&#13;
&#13;
$ python align.py -o euronews -l en-pl -v&#13;
&#13;
Saving articles in plain text&#13;
Script "save_plain_text.py" can be used to save all articles in plain text format, it accepts path for saving articles, languages of articles to be saved, and source of articles (euronews, wikipedia).&#13;
&#13;
For help use:&#13;
&#13;
$ python save_plain_text.py -h&#13;
&#13;
Example command:&#13;
&#13;
$ python save_plain_text.py -l en,pl -r [path] -o euronews&#13;
&#13;
Yalign selection&#13;
This script tries random parameters for model of yalign in order to get best parameters for aligning provided text samples.&#13;
&#13;
Before using yalign_selection script need to prepare article samples using prepare_random_sampling.py script.&#13;
&#13;
Creating folder with article samples can be done with this command:&#13;
&#13;
$ python prepare_random_sampling.py -o wikipedia -c 10 -l ru-en -v&#13;
&#13;
-o wikipedia - source of articles can be wikipedia or euronews&#13;
&#13;
-c 10 - number of articles to extract&#13;
&#13;
-l ru-en - languages to extract&#13;
&#13;
This script will create "article_samples" folder with articles files, then you can create manually aligned files (you need align article of second language), for this example you need to align "en" file, files named "_orig" - should be left unmodified&#13;
&#13;
Then manual aligning is ready you can run selection script here is example:&#13;
&#13;
$ python yalign_selection.py --samples article_samples/ --lang1 ru --lang2 en --threshold 0.1536422609112349e-6 --threshold_step 0.0000001 --threshold_step_count 10 --penalty 0.014928930455303857 --penalty_step 0.0001 --penalty_step_count 1 -m ru-en&#13;
&#13;
Here is what each parameter means:&#13;
&#13;
--samples article_samples/ - path to article samples folder&#13;
&#13;
--lang1 ru --lang2 en - languages to align (articles of second language should be aligned manually, script will be using "??_orig" files, align them automatically and will compare with manually aligned)&#13;
&#13;
--threshold 0.1536422609112349e-6 - threshold value of model, selection will be made around this value&#13;
&#13;
--threshold_step 0.0000001 - step of changing value&#13;
&#13;
--threshold_step_count 10 - number of steps to check below and above vaule, eg if value 10, step 1, and count 2, script will check 8 9 10 11 12&#13;
&#13;
same parameters for penalty&#13;
&#13;
-m ru-en - path to yalign model&#13;
&#13;
Also you can use (to tweak comparison of text lines in files):&#13;
&#13;
--length and --similarity --length - min diffirence in length in order to mark lines similar, 1 - same length, 0.5 - at least half of length --similarity - similarity of text in lines, 1 - exactly same, 0 - completely different. For similarity check sentences compared as sequence of characters.&#13;
&#13;
It has multiprocessing support already. Use -t option to set number of threads, by default it sets number of threads equal to number of CPU.&#13;
&#13;
for additional parameters you can use '-h' key.&#13;
&#13;
Then yalign_selection.py script will finish work it will produce csv file, with first column equal to threshold, second column equal to penalty, and third is similarity for this parameters.&#13;
&#13;
Align with HUNALING method&#13;
In order to use hunalign you need add "--hunalign" option in align.py script, here is example:&#13;
&#13;
$ python align.py -l li-hu -r align_result -o wikipedia --hunalign&#13;
&#13;
In my empirical study it provides better results when articles are translations of each other or simillar in leghth and content.&#13;
&#13;
Align From fodler&#13;
For aligning already aligned texts using hunalign:&#13;
&#13;
Command exmaple is:&#13;
&#13;
$ python align_aligned_using_hunalign.py source/ target/&#13;
&#13;
Final info&#13;
Wo&#322;k, K., &amp; Marasek, K. (2015, September). Tuned and GPU-accelerated parallel data mining from comparable corpora. In International Conference on Text, Speech, and Dialogue (pp. 32-40). Springer International Publishing.&#13;
&#13;
http://arxiv.org/pdf/1509.08639&#13;
&#13;
For more detailed usage instruction see howto.pdf.&#13;
&#13;
For any questions: | Krzysztof Wolk | krzysztof@wolk.pl</dc:description>
      <dc:date>2018-07-18</dc:date>
      <dc:type>toolService</dc:type>
      <dc:identifier>http://hdl.handle.net/11321/528</dc:identifier>
      <dc:language>eng</dc:language>
      <dc:language>pol</dc:language>
      <dc:rights>Creative Commons - Attribution 3.0 Unported (CC BY 3.0)</dc:rights>
      <dc:rights>http://creativecommons.org/licenses/by/3.0/</dc:rights>
      <dc:rights>CC</dc:rights>
      <dc:format>text/plain; charset=utf-8</dc:format>
      <dc:format>application/zip</dc:format>
      <dc:format>downloadable_files_count: 1</dc:format>
      <dc:publisher>Polish-Japanese Academy of Information Technology</dc:publisher>
      <dc:source>https://github.com/krzwolk/yalign</dc:source>
    </oai_dc:dc>
  </metadata>
</record>
